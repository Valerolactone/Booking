{% extends 'layout.html' %}
{% load static %}

{% block title %}New hotel{% endblock title %}

{% block css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/new.css' %}" type="text/css">
{% endblock css %}

{% block header %}Fill out the form {% endblock %}

{% block content %}
<form method="POST" class="hotel-form" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="wrapper">
        <div class="main-form">
            <span class="form-error">{{form.non_field_errors}}</span>
            {% for field in form %}
                <div class="form-input"> <label class="form-label">{{field.label_tag}}</label> {{field}}</div>
                {% if field.errors %}
                    <span class="form-error">{{field.errors|striptags}}</span>
                {% endif %}
            {% endfor %}
        </div>
        <div class="inline-forms">
            <h3>Add photos</h3>
            <span class="form-error">{{ photo_formset.non_form_errors }}</span>
            {{ photo_formset.management_form }}
            {% for form in photo_formset %}
                <div class="inline-form">
                    <div class="form-input"> <label class="form-label">{{form.photo_name.label_tag}}</label> {{form.photo_name}}</div>
                    <div class="form-input"> <label class="form-label">{{form.photo.label_tag}}</label> {{form.photo}}</div>
                </div>
                {% if field.errors %}
                    <span class="form-error">{{field.errors|striptags}}</span>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <div class="form-buttons">
        <input type="submit" value="Save" class="button">
        <a href="{%url 'hotels'%}" class="button">Cancel</a>
    </div>
</form>
{% endblock %}